"use strict";var _createClass=function(){function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var manuhLocal=require("manuh"),info=require("debug")("ManuhBridge"),MqttClient=require("./modules/mqtt.js")._MqttClient,ManuhClient=require("./modules/manuh.js")._ManuhClient,ManuhBridge=function(){function u(e,n,t){_classCallCheck(this,u),this.__manuhClient=new ManuhClient(e),this.__mqttClient=new MqttClient(n);var i=this;manuhLocal.subscribe("__message/manuh/mqtt","id",function(e,n){i.__mqttClient.publish(e.topic,e.message)}),manuhLocal.subscribe("__message/mqtt/manuh","id",function(e,n){i.__manuhClient.publish(e.topic,e.message)}),this.__mqttClient.connect(function(){i.__manuhClient.connect(),info("Connections Completed. Bridge ready to receive pub/sub."),t()})}return _createClass(u,[{key:"subscribeBridge",value:function(e){for(var n in e)this.__mqttClient.subscribe(e[n]),this.__manuhClient.subscribe(e[n])}},{key:"subscribeRemote2LocalTopics",value:function(e){for(var n in e)this.__mqttClient.subscribe(e[n])}},{key:"subscribeLocal2RemoteTopics",value:function(e){for(var n in e)this.__manuhClient.subscribe(e[n])}}]),u}();exports.ManuhBridge=ManuhBridge;